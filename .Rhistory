colleges = read.csv(College.csv)
colleges = read.csv("College.csv")
library(ISLR)
colleges = data(College)
head(colleges)
data(College)
college = read.csv("college.csv", header=T)
attach(College)
head(College)
colleges=College
head(colleges)
college=College
fix(college)
llege)=college[,1]
fix(college
rownames(college)=college[,1]
fix(college)
rownames(college)=college[,1]
fix(college)
rownames(college)=college[,1]
fix(college)
college=college[,-1]
fix(college)
fix(college)
college=college[,-1]
fix(college)
data(College)
college=College
fix(college)
rownames(college)=college[,1]
rownames(college)=college[,1]
ls()
fix(college)
rm(list=ls())
data(College)
college=College
fix(college)
rownames(college)=college[,1]
fix(college)
college=college[,-1]
fix(college)
data(College)
library(ISLR)
data(College)
college=College
fix(college)
rownames(college)=college[,1]
fix(college)
summary(college)
pairs(college)
pairs(college[,1:10])
str(college$Private)
plot?
?plot
?plot
plot(college$Private, college$Outstate, col = c(2,3), varwidth=T, xlab="Elite University", ylab="Out of State Tuition in USD", main="Outstate Tuition plot")
plot(college$Private, college$Outstate, col = c(2,3), varwidth=T, xlab="Elite University", ylab="Out of State Tuition in USD", main="Outstate Tuition plot")
plot(college$Private, college$Outstate, col = c(2,3), varwidth=T, xlab="Private University", ylab="Out of State Tuition in USD", main="Outstate Tuition plot")
Elite=rep("No",nrow(college))
head(college, 5)
Elite[college$Top10perc>50]="Yes"
head(college,5)
Elite=as.factor(Elite)
head(college,5)
college=data.frame(college,Elite)
head(college,5)
plot(collge$Elite, collge$Outstate, col=c(2,3), varwidth=T, xlab="Elite University", ylab="Out of state Tuition in USD", main = "Outstage Tuition plot")
plot(collge$Elite, collge$Outstate, col=c(2,3), varwidth=T, xlab="Elite University", ylab="Out of state Tuition in USD", main = "Outstage Tuition plot")
plot(college$Elite, college$Outstate, col=c(2,3), varwidth=T, xlab="Elite University", ylab="Out of state Tuition in USD", main = "Outstage Tuition plot")
par(mfrow=c(2,2))
hist(college$Books, col=2, breaks=50, xlab="Books", ylab="Count")
hist(college$PHD, col=3, breaks=50, xlab="PhD", ylab="Count")
hist(college$Grad.Rate, col=4, breaks=50, xlab="Grad Rate", ylab="Count")
hist(college$perc.alumni, col=6, breaks=50, xlab="% alumni who donate", ylab="Count")
hist(college$PhD, col=3, breaks=50, xlab="PhD", ylab="Count")
summary(collge$PhD)
summary(college$PhD)
nrow(subset=college[college$PhD==103,])
nrow(subset1=college[college$PhD==103,])
nrow(subset1<-college[college$PhD==103,])
row.names(subset1)
player_info = read.csv("data/stats/player_info.csv")
head(player_info)
setwd('/Users/cgarvey/Documents/NBA/bball/')
player_info = read.csv("data/stats/player_info.csv")
head(player_info)
d = subset(player_info, grepl('Duncan', name))
d
d = subset(player_info, grepl('Duncan|Garnett', name))
d
names(both_info)
both_info = subset(player_info, id==player1|id==player2)
article_name = "duncanvsgarnett"
player1 = "duncati01"
player2 = "garneke01"
both_info = subset(player_info, id==player1|id==player2)
names(both_info)
columns = c("name","shoots","heightft","heightin","weight","bmonth","bday","byear","bcity","bstate","bcountry","hs","hscity","hsstate","college","draftteam","draftoverall","draftyear")
both_info = both_info[,columns]
head(both_info)
boxscores = read.csv("data/stats/boxscores.csv")
player1_box = subset(boxscores, PLAYER==player1)
player2_box = subset(boxscores, PLAYER==player2)
both_box = subset(boxscores, PLAYER==player1|PLAYER==player2)
head(both_box)
player_per_game = read.csv("data/stats/player_per_game.csv")
both_career = subset(player_per_game, PLAYER==player1|PLAYER==player2)
columns = c("PLAYER","FG","FGA","FG.","X3P","X3PA","X3P.","FT","FTA","FT.","ORB","DRB","TRB","AST","STL","BLK","TOV","PF","PTS","minutes")
both_career = both_career[,columns]
both_career[,-1] <-round(both_career[,-1],1)
head(both_career)
both_career[,-1] <-round(both_career[,-1],2)
head(both_career)
both_career[,-1] <-round(both_career[,-1],2)
both_career = subset(player_per_game, PLAYER==player1|PLAYER==player2)
both_career_raw = subset(player_per_game, PLAYER==player1|PLAYER==player2)
columns = c("PLAYER","FG","FGA","FG.","X3P","X3PA","X3P.","FT","FTA","FT.","ORB","DRB","TRB","AST","STL","BLK","TOV","PF","PTS","minutes")
both_career = both_career_raw[,columns]
both_career[,-1] <-round(both_career[,-1],2)
head(both_career)
players <- player_info[,c("id","name")]
head(players, 50)
names(players)
both_info = subset(player_info, id==player1|id==player2)
player_salaries_by_season = read.csv("data/stats/player_salaries_by_season.csv")
head(player_salaries_by_season)
both_salaries = subset(player_salaries_by_season, id==player1|id==player2)
both_info_and_salaries = merge(both_info, both_salaries, by=c("id"))
both_info_and_salaries["salary"] = round(both_salaries["salary"]/1000000,2)
head(both_info_and_salaries)
player1_salary = subset(both_info_and_salaries, id==player1)
player2_salary = subset(both_info_and_salaries, id==player2)
both_info_salaries = merge(both_info, both_salaries, by=c("id"))
both_info_salaries["salary"] = round(both_salaries["salary"]/1000000,2)
player1_info_salaries = subset(both_info_salaries, id==player1)
player2_info_salaries = subset(both_info_salaries, id==player2)
head(both_info_salaries,40)
player1_salary_out = player1_salary[,c("name","season", "team", "salary")]
player1_salary_out = player1_salary_out[ order(player1_salary_out[,2]),]
player2_salary_out = player2_salary[,c("name","season", "team", "salary")]
player2_salary_out = player2_salary_out[ order(player2_salary_out[,2]),]
head(player1_salary_out)
colnames(player2_salary_out)=c("Name","Season","Team","Salary (millions)")
colnames(player1_salary_out)=c("Name","Season","Team","Salary (millions)")
head(player1_salary_out)
head(player2_salary_out)
total_salaries = ddply(both_salary, .(id), summarize, feq=length(id), total=sum(salary))
head(total_salaries)
library(plyr)
library(ggplot2)
library(scatterplot3d)
library(reshape)
library(gridExtra)
total_salaries = ddply(both_salaries, .(id), summarize, feq=length(id), total=sum(salary))
head(total_salaries)
head(both_career, 40)
head(both_info_salaries,40)
ddply(both_box, .(season), head, n = 5)
ddply(both_box, .(SEASON), head, n = 5)
both_test = ddply(both_box, .(SEASON), head, n = 5)
both_test
both_test = ddply(both_info_salaries, .(SEASON), head, n = 5)
both_test = ddply(both_info_salaries, .(season), head, n = 5)
both_test
both_test = ddply(both_info_salaries, .(season), head, n = 5)
both_test
both_test = ddply(both_info_salaries, .(season), head, n = 1)
both_test
both_test = ddply(both_info_salaries, .(season), head, n = 5)
both_test
both_test = ddply(both_info_salaries, .(player, season), subset, rank(x) <= 10)
both_test = ddply(both_info_salaries, .(id, season), subset, rank(x) <= 10)
both_test = ddply(both_info_salaries, .(id, season), subset, rank(season) <= 10)
both_test
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$season, increasing = TRUE) , ], 2))
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$id, increasing = TRUE) , ], 2))
both_test = ddply(both_info_salaries, "season", function(x) head(x[order(x$id, increasing = TRUE) , ], 2))
both_test = ddply(both_info_salaries, "season", function(x) head(x[order(x$id, increasing = TRUE) , ], 10))
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$id, decreasing = TRUE) , ], 2))
both_test
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$season, decreasing = TRUE) , ], 2))
both_test
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$season, decreasing = FALSE) , ], 2))
both_test
both_test = ddply(both_info_salaries, "id", function(x) head(x[order(x$season, decreasing = FALSE) , ], 5))
both_test
both_test = ddply(both_info_salaries, "id", subset, rank(season) <= 1)
both_test
both_test = ddply(both_box, "id", subset, rank(season) <= 1)
both_test = ddply(both_box, c("id"), subset, rank(season) <= 1)
info_salaries
both_first_five_info$year <- with( both_first_five_info, ave(id, id, season, FUN=seq))
both_first_five_info = ddply(both_info_salaries, "id", function(x) head(x[order(x$season, decreasing = FALSE) , ], 5))
both_first_five_info
both_first_five_info$year <- with( both_first_five_info, ave(id, id, season, FUN=seq))
both_first_five_info
both_first_five_info$year <- with( both_first_five_info, ave( id, season, FUN=rank))
both_first_five_info
sapply (both_first_five_info, class)
both_first_five_info$year <- ave( both_first_five_info$id, both_first_five_info$season, FUN=rank)
both_first_five_info
both_first_five_info = ddply(both_first_five_info, "id", transform, year = seq_along(season))
both_first_five_info
both_first_five_box = subset(both_box, PLAYER=="duncati01" & SEASON<2003 | PLAYER=="garneke01" & SEASON<2001)
both_first_five_by_season = ddply(both_first_five_box, .(PLAYER, SEASON), numcolwise(mean, na.rm = TRUE))
player_first_five <- merge(both_first_five_by_season, both_salary, by.x=c("PLAYER", "SEASON"), by.y=c("id", "season"))
head(player_first_five, 10)
player_first_five <- merge(both_first_five_by_season, both_salaries, by.x=c("PLAYER", "SEASON"), by.y=c("id", "season"))
head(player_first_five, 10)
player_first_five <- merge(both_first_five_by_season, both_first_five_info, by.x=c("PLAYER", "SEASON"), by.y=c("id", "season"))
head(player_first_five, 10)
player_first_five <- merge(both_first_five_by_season, both_salaries, by.x=c("PLAYER", "SEASON"), by.y=c("id", "season"))
head(player_first_five, 10)
